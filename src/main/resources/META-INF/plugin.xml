<idea-plugin>
    <id>org.xege.clion</id>
    <name>Xege IntelliJ Plugin</name>
    <!-- 版本号由 Gradle 构建时自动注入，不需要在此硬编码 -->
    <vendor email="this@xege.org" url="https://github.com/x-ege/ege-jetbrains-plugin">wysaid</vendor>
    
    <description>
        EGE (Easy Graphics Engine) 针对 CLion IDE 的专属插件，提供简单易用的图形编程支持。
    </description>
    
    <depends>com.intellij.modules.platform</depends>
    <!-- CLion C/C++ 支持 - 必需依赖 -->
    <depends>com.intellij.clion</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 注册通知组 -->
        <notificationGroup id="Xege Plugin Notifications" displayType="BALLOON"/>
        
        <!-- 注册 CLion 项目生成器 - 使用 CLionProjectGenerator -->
        <directoryProjectGenerator implementation="org.xege.project.EgeProjectGenerator"/>
    </extensions>

    <actions>
        <!-- EGE 菜单组 - 在工具菜单中显示为带子菜单的选项 -->
        <group id="org.xege.EgeOptionsGroup" 
               text="EGE Options" 
               description="EGE 图形库相关选项"
               popup="true">
            
            <!-- 创建 EGE 项目 Action -->
            <action id="org.xege.CreateEgeProjectAction"
                    class="org.xege.project.CreateEgeProjectAction"
                    text="创建 EGE 项目"
                    description="创建一个新的 EGE C++ 图形项目"/>
            
            <separator/>

            <action id="org.xege.SetupAsEgeProjectAction"
                    class="org.xege.project.SetupAsEgeProjectAction"
                    text="初始化为 EGE 项目"
                    description="将工作区项目初始化为 EGE C++ 图形库项目"/>
            
            <separator/>
            
            <!-- 帮助/关于 Action -->
            <action id="org.xege.HelpAction"
                    class="org.xege.HelpAction"
                    text="关于 EGE"
                    description="查看 EGERUn 插件信息"/>
            
            <separator/>
            
            <!-- 这里可以添加更多 Action -->
            <!-- 例如：
            <action id="org.xege.SettingsAction"
                    class="org.xege.SettingsAction"
                    text="插件设置"
                    description="配置 EGE 插件选项"/>
            
            <action id="org.xege.DocumentationAction"
                    class="org.xege.DocumentationAction"
                    text="在线文档"
                    description="打开 EGE 在线文档"/>
            -->
            
            <!-- 添加到工具菜单 -->
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </group>
    </actions>
</idea-plugin>
