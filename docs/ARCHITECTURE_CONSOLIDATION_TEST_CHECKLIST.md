# EGE 插件测试清单（架构整合后）

## 测试环境
- **IDE**: CLion 2023.3+
- **操作系统**: macOS / Windows / Linux
- **构建工具**: CMake 3.20+

## 1. 插件构建测试

### 1.1 构建验证
- [ ] 运行 `./gradlew build` 成功
- [ ] 无编译错误
- [ ] 无运行时警告（除了平台已知的 stdlib 警告）
- [ ] 生成的 JAR 文件存在于 `build/libs/` 目录

### 1.2 插件安装
- [ ] 在 CLion 中安装插件（从磁盘安装）
- [ ] 插件显示在插件列表中
- [ ] 插件图标正确显示（蓝色 "EGE" 图标）
- [ ] 插件描述信息正确

## 2. 项目创建测试（标准入口）

### 2.1 向导界面显示
- [ ] 打开 CLion
- [ ] 选择 File → New → Project
- [ ] 在项目类型列表中找到 "EGE" 选项
- [ ] 点击 "EGE" 后显示 EGE 的 logo（assets/logo.png）
- [ ] 界面显示项目选项面板

### 2.2 选项界面验证
- [ ] 选项面板显示说明文字："选择项目依赖方式："
- [ ] 显示复选框："直接使用 EGE 源码作为项目依赖"
- [ ] 复选框默认未勾选
- [ ] 说明包含两种方式的解释（静态库 vs 源码）

### 2.3 项目创建（不勾选复选框 - 使用静态库）
- [ ] 设置项目名称和位置
- [ ] **不勾选**"直接使用 EGE 源码作为项目依赖"
- [ ] 点击 "Create"
- [ ] 项目成功创建，无错误提示
- [ ] 项目包含以下文件和目录：
  - [ ] `CMakeLists.txt`（内容来自 `CMakeLists_lib.txt`）
  - [ ] `main.cpp`
  - [ ] `ege/` 目录
- [ ] `ege/` 目录内容验证：
  - [ ] `include/` 目录（包含 ege.h, graphics.h 等头文件）
  - [ ] `lib/` 目录（包含各平台的静态库）
  - [ ] 没有 `src/` 目录
- [ ] CMakeLists.txt 内容检查：
  - [ ] 包含 `include_directories(ege/include)`
  - [ ] 包含 `link_directories(ege/lib/...)`
  - [ ] 不包含 `add_subdirectory(ege)`

### 2.4 项目创建（勾选复选框 - 使用源码）
- [ ] 重新创建项目（新位置）
- [ ] **勾选**"直接使用 EGE 源码作为项目依赖"
- [ ] 点击 "Create"
- [ ] 项目成功创建，无错误提示
- [ ] 项目包含以下文件和目录：
  - [ ] `CMakeLists.txt`（内容来自 `CMakeLists_src.txt`）
  - [ ] `main.cpp`
  - [ ] `ege/` 目录
- [ ] `ege/` 目录内容验证：
  - [ ] `include/` 目录（包含头文件）
  - [ ] `src/` 目录（包含 .cpp 和 .h 源文件）
  - [ ] `CMakeLists.txt`（EGE 的构建配置）
  - [ ] 没有 `lib/` 目录
- [ ] CMakeLists.txt 内容检查：
  - [ ] 包含 `add_subdirectory(ege)`
  - [ ] 不包含 `link_directories`

## 3. 项目构建测试

### 3.1 静态库版本构建
- [ ] 打开不勾选复选框创建的项目
- [ ] 运行 CMake 配置，无错误
- [ ] 构建项目（Build → Build Project）
- [ ] 编译成功，无链接错误
- [ ] 可执行文件生成在 `cmake-build-debug/` 或类似目录

### 3.2 源码版本构建
- [ ] 打开勾选复选框创建的项目
- [ ] 运行 CMake 配置，无错误
- [ ] 构建项目（Build → Build Project）
- [ ] 编译 EGE 源码成功
- [ ] 链接主程序成功
- [ ] 可执行文件生成

### 3.3 程序运行
- [ ] 运行静态库版本的可执行文件
- [ ] 窗口正常显示（640x480）
- [ ] 绘制内容正确（白色背景，红色圆圈）
- [ ] 关闭窗口无崩溃
- [ ] 运行源码版本的可执行文件
- [ ] 功能与静态库版本相同

## 4. UI/UX 测试

### 4.1 欢迎界面检查
- [ ] 关闭所有项目，显示欢迎界面
- [ ] **验证**："New EGE Project..." 快速操作**不再显示**
- [ ] 只显示标准的 "New Project" 按钮

### 4.2 菜单检查
- [ ] 打开任意项目
- [ ] File 菜单中**不再显示** "New EGE Project..." 菜单项
- [ ] 只显示标准的 "New → Project" 菜单项

### 4.3 向导流程
- [ ] 项目创建向导流程顺畅
- [ ] 复选框点击响应正常
- [ ] 说明文字清晰易懂
- [ ] "Create" 按钮始终可用（无论是否勾选）

## 5. 代码质量测试

### 5.1 日志输出
- [ ] 打开 Help → Show Log in Finder/Explorer
- [ ] 查看 `idea.log` 文件
- [ ] 项目创建过程中有信息日志（INFO）
- [ ] 无错误日志（ERROR）
- [ ] 无警告日志（WARN）

### 5.2 资源复制验证
- [ ] 检查创建的项目文件完整性
- [ ] 头文件能正常打开，内容完整
- [ ] 静态库文件大小正常（不是 0 字节）
- [ ] 源文件能正常打开，编码正确

## 6. 边界情况测试

### 6.1 目录权限
- [ ] 选择只读目录，验证错误提示
- [ ] 选择需要管理员权限的目录

### 6.2 特殊字符
- [ ] 项目名称包含空格
- [ ] 项目名称包含中文字符
- [ ] 项目路径包含中文

### 6.3 磁盘空间
- [ ] 磁盘空间不足时的错误处理

## 7. 回归测试

### 7.1 原有功能
- [ ] 插件的其他 Action 依然可用（例如 "Xege Action"）
- [ ] 插件配置页面正常显示（如果有）
- [ ] 插件卸载/重新安装正常

### 7.2 多项目
- [ ] 创建多个 EGE 项目（不同选项）
- [ ] 同时打开多个 EGE 项目
- [ ] 项目之间无干扰

## 8. 性能测试

### 8.1 创建速度
- [ ] 项目创建耗时合理（< 10 秒）
- [ ] 进度指示器正常工作
- [ ] 无 UI 冻结

### 8.2 IDE 响应
- [ ] 插件加载不影响 IDE 启动速度
- [ ] 项目创建不阻塞 IDE 其他操作

## 9. 文档验证

- [ ] README.md 更新，反映单一入口方式
- [ ] ARCHITECTURE_CONSOLIDATION.md 准确描述架构变更
- [ ] 其他文档（如有）与实际实现一致

## 测试结论

- **测试日期**: _____________
- **测试人员**: _____________
- **测试版本**: _____________
- **通过项数**: _____ / _____
- **失败项数**: _____

### 已知问题
1. 
2. 
3. 

### 改进建议
1. 
2. 
3. 

---

**注意事项**：
1. 每个测试项完成后请打勾（替换 `[ ]` 为 `[x]`）
2. 如果测试失败，请在"已知问题"中详细记录
3. 建议在不同操作系统上分别测试
4. 重点关注第 4 节（UI/UX 测试），验证双入口已移除
